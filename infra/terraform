.
├── main.tf
├── variables.tf
├── outputs.tf
├── providers.tf
├── monitoring.tf
├── README.md
```

---

**main.tf**
```hcl
terraform {
  required_version = ">= 1.5.0"
  required_providers {
    aws = {
      source  = "hashicorp/aws"
      version = "~> 5.0"
    }
    azurerm = {
      source  = "hashicorp/azurerm"
      version = "~> 3.0"
    }
  }
}

provider "aws" {
  region = var.aws_region
}

provider "azurerm" {
  features {}
  subscription_id = var.azure_subscription_id
}

module "aws_resources" {
  source = "./modules/aws_resources"
  enable = var.enable_aws_resources
  aws_region = var.aws_region
}

module "azure_resources" {
  source = "./modules/azure_resources"
  enable = var.enable_azure_resources
  azure_region = var.azure_region
}

module "monitoring" {
  source = "./modules/monitoring"
  aws_region = var.aws_region
  azure_region = var.azure_region
  prometheus_enabled = var.prometheus_enabled
  grafana_enabled = var.grafana_enabled
}

output "aws_resource_ids" {
  value = module.aws_resources.resource_ids
  description = "IDs of provisioned AWS resources"
  condition = var.enable_aws_resources
}

output "azure_resource_ids" {
  value = module.azure_resources.resource_ids
  description = "IDs of provisioned Azure resources"
  condition = var.enable_azure_resources
}
```

---

**variables.tf**
```hcl
variable "aws_region" {
  description = "AWS region for resource provisioning"
  type        = string
  default     = "us-east-1"
}

variable "azure_region" {
  description = "Azure region for resource provisioning"
  type        = string
  default     = "eastus"
}

variable "azure_subscription_id" {
  description = "Azure Subscription ID"
  type        = string
}

variable "enable_aws_resources" {
  description = "Enable AWS resource provisioning"
  type        = bool
  default     = true
}

variable "enable_azure_resources" {
  description = "Enable Azure resource provisioning"
  type        = bool
  default     = true
}

variable "prometheus_enabled" {
  description = "Enable Prometheus monitoring"
  type        = bool
  default     = true
}

variable "grafana_enabled" {
  description = "Enable Grafana dashboard"
  type        = bool
  default     = true
}
```

---

**outputs.tf**
```hcl
output "prometheus_endpoint" {
  value       = module.monitoring.prometheus_endpoint
  description = "Prometheus endpoint URL"
}

output "grafana_endpoint" {
  value       = module.monitoring.grafana_endpoint
  description = "Grafana endpoint URL"
}
```

---

**providers.tf**
```hcl
terraform {
  required_providers {
    aws = {
      source  = "hashicorp/aws"
      version = "~> 5.0"
    }
    azurerm = {
      source  = "hashicorp/azurerm"
      version = "~> 3.0"
    }
  }
}
```

---

**monitoring.tf**
```hcl
# Example: Prometheus and Grafana on AWS EC2 (can be adapted for Azure)

resource "aws_instance" "prometheus" {
  count         = var.prometheus_enabled ? 1 : 0
  ami           = "ami-0c94855ba95c71c99" # Amazon Linux 2 AMI (update as needed)
  instance_type = "t3.micro"
  tags = {
    Name = "prometheus"
  }
  user_data = <<-EOF
              #!/bin/bash
              yum update -y
              yum install -y docker
              systemctl start docker
              docker run -d -p 9090:9090 --name prometheus prom/prometheus
              EOF
}

resource "aws_instance" "grafana" {
  count         = var.grafana_enabled ? 1 : 0
  ami           = "ami-0c94855ba95c71c99"
  instance_type = "t3.micro"
  tags = {
    Name = "grafana"
  }
  user_data = <<-EOF
              #!/bin/bash
              yum update -y
              yum install -y docker
              systemctl start docker
              docker run -d -p 3000:3000 --name grafana grafana/grafana
              EOF
}

output "prometheus_endpoint" {
  value = aws_instance.prometheus[0].public_dns
  description = "Prometheus public DNS"
  condition = var.prometheus_enabled
}

output "grafana_endpoint" {
  value = aws_instance.grafana[0].public_dns
  description = "Grafana public DNS"
  condition = var.grafana_enabled
}
```

---

**README.md**
```markdown
# Terraform Infrastructure for Cloud Resource Monitoring & Alerting System

This Terraform configuration provisions cloud resources and monitoring infrastructure for the Cloud Resource Monitoring & Alerting System.

## Features

- Provision AWS and Azure resources for monitoring
- Deploy Prometheus and Grafana for metrics collection and visualization
- Modular design for extensibility and multi-cloud support
- Outputs endpoints for Prometheus and Grafana

## Usage

1. Install [Terraform](https://www.terraform.io/downloads.html) (>= 1.5.0)
2. Configure your AWS and Azure credentials (see provider docs)
3. Edit `variables.tf` as needed (regions, subscription IDs, enable/disable modules)
4. Initialize and apply:

   ```
   terraform init
   terraform apply
   ```

5. Access the Prometheus and Grafana endpoints from the outputs.

## Modules

- `modules/aws_resources`: AWS resource provisioning (EC2, RDS, etc.)
- `modules/azure_resources`: Azure resource provisioning (VM, SQL, etc.)
- `modules/monitoring`: Monitoring stack (Prometheus, Grafana, exporters)

## Security

- Ensure security groups restrict access to monitoring endpoints.
- Use secure credentials and secrets management for production.

## Extending

- Add more modules for additional cloud providers or monitoring tools as needed.

## License

MIT
```